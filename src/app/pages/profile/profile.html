<div class="banner">
  <img [src]="user()?.backgroundImageUrl || 'https://picsum.photos/seed/card-15/3000/300/'" />
</div>

<main class="page">
  <section class="profile">
    <div class="avatar-wrap">
      <img
        [src]="user()?.profileImageUrl || 'assets/profile.png'"
        class="avatar-img"
        alt="profile avatar" />
      <ng-template #avatarSkeleton>
        <div class="avatar-img img-skeleton"></div>
      </ng-template>

      <div class="chip">music</div>
    </div>

    <div class="meta">
      <h1 class="username">{{ user()?.username }}</h1>

      <div class="actions">
        <button routerLink="/settings-profile">Edit Profile</button>
        <img class="settings" aria-label="settings" src="assets/settings.png"/>
      </div>

      <nav class="stats">
        <a routerLink="/albums"><span class="count">{{ albumsCount() }}</span> albums</a>
        <a routerLink="/following"><span class="count">{{ followingCount() }}</span> following</a>
      </nav>
    </div>
  </section>

  <aside class="sidebar">
    <h2>Favorite Artist</h2>
    <div class="divider" role="separator"></div>
    <ul class="fav-artists">
      <li *ngFor="let a of favoriteArtists()">
        <a routerLink="/artist/{{ a | lowercase }}">{{ a }}</a>
      </li>
    </ul>
  </aside>

  <section class="albums">
    <h2>Favorite Albums</h2>
    <div class="album-grid">
      <app-album-card *ngFor="let it of albums(); trackBy: trackById"
                      [title]="it.title"
                      [artist]="it.artist"
                      [releaseYear]="it.dateLabel"
                      [albumCover]="it.imageUrl">
      </app-album-card>
    </div>

    <h2>Recent Albums</h2>
    <div class="album-grid recent">
      <app-album-card *ngFor="let it of albums(); trackBy: trackById"
                      [title]="it.title"
                      [artist]="it.artist"
                      [releaseYear]="it.dateLabel"
                      [albumCover]="it.imageUrl">
      </app-album-card>
    </div>
  </section>
</main>
